<!DOCTYPE html>
<html>
<head>
<!-- æ° Bootstrap æ ¸å¿ CSS æä»¶ -->
<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">

<!-- å¯éçBootstrapä¸»é¢æä»¶ï¼ä¸è¬ä¸ç¨å¼å¥ï¼ -->
<link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">

<!-- jQueryæä»¶ãå¡å¿å¨bootstrap.min.js ä¹åå¼å¥ -->
<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

<!-- ææ°ç Bootstrap æ ¸å¿ JavaScript æä»¶ -->
<script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

<meta charset="UTF-8">
<title>Merchant Register Form</title>

<script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
</head>
<body>

	<p>Merchant Register Form</p>
	<hr/>
	
	<form action="merchant/addMerchant" method="post">
		Merchant Name:<br>
		<input id="merchantName" name="merchantName" /><br />
		Shop Name:<br>
		<input id="shopName" name="shopName"><br />
		Tel. Number:<br>
		<input id="telNum" name="telNum"><br />
		Shop Picture URL:<br>
		<input id="shopPic" type="file" name="shopPic"><br />
		Password:<br>
		<input id="password" name="password"><br />
		Login Name:<br>
		<input id="loginName" name="loginName"><br />
		Category:<br>
		<input id="category" name="category"><br />
		Opening Hour(Integer):<br>
		<input id="openingHour" name="openingHour"><br />
		Closing Hour(Integer):<br>
		<input id="closingHour" name="closingHour"><br />
		Gender(Boolean):<br>
		<input id="genderM" type="radio" name="gender" value="true">M<br />
		<input id="genderF" type="radio" name="gender" value="FALSE">F<br />
		
		Can Pre Order(Boolean):<br>
		<input id="canPreOrderY" type="radio" name="canPreOrder" value="true">Y<br />
		<input id="canPreOrderN" type="radio" name="canPreOrder" value="false">N<br />
		
		Address:<br>
		<input type="text" id="address1" name="address1"><br />
		Region:<br>
		<input type="text" id="region1" name="region1"><br />
		
	</form>
	
	<button id="submit">Submit</button>
	
	<div id="result"></div>
	
	<script>
        //onload
        $(function(){
            $("#submit").on("click", function(e){
            	alert($("input[name='gender']:checked").val());
                $.ajax({
                	
                    type:'POST',
                    url:'merchant/addMerchant',
                    data: {
                    	merchantName: $('#merchantName').val(),                        
                    	shopName: $('#shopName').val(),
                    	telNum: $('#telNum').val(),
                    	shopPic: $('#shopPic').val(),
                    	password: $('#password').val(),
                    	loginName: $('#loginName').val(),
                    	category: $('#category').val(),
                    	openingHour: $('#openingHour').val(),
                    	closingHour: $('#closingHour').val(),
                    	
                    	
                    	gender: $("input[name='gender']:checked").val() === 'true',
                    	
                    	canPreOrder: $("input[name='canPreOrder']:checked").val() === 'true',

                    	address1: $("#address1").val(),
                    	region1: $("#region1").val(),

                    	
                    	status: 'UnderReview',
                    	registerTime: new Date($.now()),
                    }
                }).done(function(msg){
                    $('#result').append("<p>" +"Welcome "+ msg.merchantName + "! Your registration is under reviewed. Please wait for admin further process. Thanks!" + "</p>");
                });
            });
        });
    </script>
	
	
</body>
</html>
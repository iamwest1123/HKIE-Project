<!DOCTYPE html>
<html>

<head>
    <!-- æ° Bootstrap æ ¸å¿ CSS æä»¶ -->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap.min.css">

    <!-- å¯éçBootstrapä¸»é¢æä»¶ï¼ä¸è¬ä¸ç¨å¼å¥ï¼ -->
    <link rel="stylesheet" href="http://cdn.bootcss.com/bootstrap/3.3.0/css/bootstrap-theme.min.css">
    <!-- 
<link rel="stylesheet" href="css/style.css">
 -->
    <!-- jQueryæä»¶ãå¡å¿å¨bootstrap.min.js ä¹åå¼å¥ -->
    <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>

    <!-- ææ°ç Bootstrap æ ¸å¿ JavaScript æä»¶ -->
    <script src="http://cdn.bootcss.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <!--[if lte IE 8]><script src="js/ie/html5shiv.js"></script><![endif]-->
    <link rel="stylesheet" href="css/main.css" />
    <!--[if lte IE 9]><link rel="stylesheet" href="css/ie9.css" /><![endif]-->

    <meta charset="UTF-8">
    <title>Merchant Edit Profile</title>
    <style>
        body {}
        
        .results tr[visible='false'],
        .no-result {
            display: none;
        }
        
        .results tr[visible='true'] {
            display: table-row;
        }
        
        .counter {
            padding: 8px;
            color: #ccc;
        }
        
        #addDish {
            margin-top: 10px;
            margin-bottom: 20px;
        }
        
        a {
            text-decoration: none;
        }
        
        form {
            margin: 0px 150px 0px 150px;
        }
        
        #update {
            margin-top: 15px;
            float: right;
        }
    </style>
    <script src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script>
</head>

<body>
    <nav class="navbar navbar-inverse navbar-fixed-top">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                    <span class="sr-only">Toggle navigation</span> <span class="icon-bar"></span> <span class="icon-bar"></span> <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">COMEBUYFOOD</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li class="active"><a href="MerchantEditProfile.html">Main</a></li>
                    <li><a href="ShowDish.html">Dishes Management <span
							class="sr-only">(current)</span></a></li>
                    <li><a href="ShowOrder.html">View Customer Order <span
							class="sr-only">(current)</span></a></li>
                    <li id="apply"><a href="merchant/applyAds">Apply Ads <span
							class="sr-only">(current)</span></a></li>
                    <li><a href="merchant/logout">Logout <span class="sr-only">(current)</span></a></li>
                </ul>
            </div>
            <!--/.nav-collapse -->
        </div>
    </nav>
    <div style="padding-top: 51px;">
        <section id="banner">
            <div class="inner split">
                <section>
                    <h2>Merchant Edit Profile</h2>
                </section>
                <section>
                    <p>Do you feel that the number of client is not enough? Don't worry! COMEBUYFOOD can save your life!!!More than 100000+ customers are preparing for buying your dishes!</p>
                </section>
            </div>
        </section>

        <hr />

        <form action="merchant/loadMerchant" method="post">
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="merchantName">Merchant Name</label>
                        <input type="text" class="form-control" id="merchantName" name="merchantName">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="shopName">Shop Name</label>
                        <input type="text" class="form-control" name="shopName" id="shopName">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="telNum">Tel. Number</label>
                        <input type="text" class="form-control" id="telNum" name="telNum">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="password">Password</label>
                        <input type="text" class="form-control" name="password" id="password">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="loginName">Login Name</label>
                        <input type="text" class="form-control" id="loginName" name="loginName">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="category">Category</label>
                        <input type="text" class="form-control" name="category" id="category">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="openingHour">Opening Hour(Integer)</label>
                        <input type="text" class="form-control" id="openingHour" name="openingHour">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="closingHour">Closing Hour(Integer)</label>
                        <input type="text" class="form-control" name="closingHour" id="closingHour">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="gender">Gender(Boolean)</label>
                        <input type="text" class="form-control" id="gender" name="gender">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="canPreOrder">Can Pre Order(Boolean)</label>
                        <input type="text" class="form-control" name="canPreOrder" id="canPreOrder">
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="address1">Address</label>
                        <input type="text" class="form-control" id="address1" name="address1">
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="form-group">
                        <label for="region1">Region</label>
                        <input type="text" class="form-control" name="region1" id="region1">
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="shopPic">Shop Picture URL:</label>
                <input id="shopPic" class="form-control" type="text" name="shopPic">
            </div>
            <button id="update" class="button special">Update</button>
        </form>


        <div id="result"></div>

        <script>
            $("#apply").on("click", function (e) {
                e.preventDefault();
                $.ajax({
                    type: 'POST',
                    url: 'merchant/applyAds'

                }).done(function (msg) {

                });
                alert("Success");
            })

            $(function () {
                $.ajax({
                        type: 'POST',
                        url: 'merchant/loadMerchant'

                    })
                    .done(function (msg) {
                        console.log(msg);
                        $("#merchantName").val(msg.merchantName);
                        $("#shopName").val(msg.shopName);
                        $("#telNum").val(msg.telNum);
                        $("#shopPic").val(msg.shopPic);
                        $("#category").val(msg.category);
                        $("#openingHour").val(msg.openingHour);
                        $("#closingHour").val(msg.closingHour);
                        $("#canPreOrder").val(msg.canPreOrder);
                        $("#address1").val(msg.address.address);
                        $("#region1").val(msg.address.region);

                    });

                $("#update").on("click", function (e) {
                    $.ajax({

                        type: 'POST',
                        url: 'merchant/updateMerchant',
                        data: {

                            merchantName: $('#merchantName').val(),
                            shopName: $('#shopName').val(),
                            telNum: $('#telNum').val(),
                            shopPic: $('#shopPic').val(),
                            category: $('#category').val(),
                            openingHour: $('#openingHour').val(),
                            closingHour: $('#closingHour').val(),
                            canPreOrder: $('#canPreOrder').val() === 'true',
                            gender: $('#gender').val() === 'true',
                            address1: $("#address1").val(),
                            region1: $("#region1").val(),

                        }
                    }).done(function (msg) {
                        $('#result').append("<p>" + "Updated successfully" + "</p>");
                    });
                });
            });
        </script>
    </div>
</body>

</html>